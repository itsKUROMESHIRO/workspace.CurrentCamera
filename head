local inputservice = game:GetService("UserInputService")

-- Dictionary of FFlags and their values
local fflags = {
    FFlagNewLightAttenuation = "True",
    FFlagDebugSkyGray = "True",
    FIntDebugTextureManagerSkipMips = "8",
    FIntRenderShadowIntensity = "False",
    FFlagDisablePostFx = "True"
}

-- Apply FFlags
for flag, value in pairs(fflags) do
    local fflag = flag:gsub('DFInt', ''):gsub('DFFlag', ''):gsub('FFlag', ''):gsub('FInt', ''):gsub('DFString', ''):gsub('FString', '')
    value = tostring(value):gsub('"True"', 'true'):gsub('"False"', 'false')

    if getfflag(fflag) ~= nil then
        pcall(setfflag, fflag, value)
    end
end

-- Disable terrain decoration
local function disableTerrainDecoration()
    local terrain = workspace:FindFirstChildOfClass("Terrain")
    if terrain then
        pcall(function()
            sethiddenproperty(terrain, "Decoration", false)
        end)
    end
end

-- Execute optimizations
task.spawn(disableTerrainDecoration)

-- Handle new objects efficiently
workspace.DescendantAdded:Connect(handleNewObjects)
